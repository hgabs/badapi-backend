{"version":3,"sources":["components/ProductList.js","views/CategoryView.js","components/Header.js","App.js","index.js"],"names":["useStyles","makeStyles","theme","productTable","backgroundColor","palette","action","hover","ManufacturerProductList","products","classes","className","useState","page","setPage","innerHeight","window","rowsPerPage","setRowsPerPage","useEffect","orderByName","a","b","name","TableContainer","component","Paper","Table","stickyHeader","TableHead","TableRow","TableCell","TableBody","sort","slice","map","product","availability","id","manufacturer","price","color","join","TableFooter","TablePagination","count","length","rowsPerPageOptions","onChangePage","event","newPage","onChangeRowsPerPage","parseInt","target","value","sideBar","position","top","spacing","pageNotFound","display","justifyContent","alignItems","bottom","left","right","CategoryView","manufacturers","currentManufacturer","setCurrentManufacturer","useParams","category","categoryIsInvalid","Object","keys","indexOf","manufacturerIsInvalid","history","useHistory","productList","useMemo","categoryProductsByManufacturer","ProductList","countProducts","Array","isArray","Box","Typography","variant","fontSize","Container","root","maxWidth","Grid","container","Hidden","only","item","md","xs","List","subheader","ListSubheader","disableSticky","manufacturerItem","index","ListItem","button","divider","selected","onClick","push","ListItemText","primary","tab","minHeight","icon","marginRight","menu","marginLeft","tabIndicator","height","drawerCategories","width","selectManufacturer","title","whiteSpace","fontFamily","textShadow","common","white","drawerInfoWrapper","infoWrapper","flexDirection","flexGrow","appBar","paddingLeft","marginBottom","main","updateInfo","Header","categories","setCurrentTab","lastUpdateTime","nextUpdateTimer","match","useRouteMatch","isDrawerOpen","setIsDrawerOpen","currentTab","params","validCurrentManufacturer","lastUpdateTimeString","Date","toLocaleTimeString","toggleDrawer","open","type","key","SwipeableDrawer","anchor","onOpen","onClose","path","mx","Select","onChange","selectedManufacturer","MenuItem","my","Tooltip","aria-label","Button","fullWidth","AppBar","Toolbar","disableGutters","lg","xl","IconButton","menuButton","disableRipple","sm","Tabs","indicator","newValue","Tab","label","mr","API_URL","process","REACT_APP_LOCAL_API","NEXT_UPDATE_INTERVAL","CATEGORIES","backdrop","loginMessage","App","collection","setCollection","setManufacturers","isLoading","setLoading","loadingMessage","setLoadingMessage","retryTimer","setRetryTimer","setNextUpdateTimer","timerId","useRef","countdown","next","retryCountdown","seconds","i","Promise","resolve","setTimeout","fetchData","repeat","fetch","res","status","json","data","console","log","fetchDataPeriodically","clearInterval","current","clearTimeout","setInterval","prevState","Backdrop","CircularProgress","m","time","exact","render","to","ReactDOM","StrictMode","document","getElementById"],"mappings":"sbAMMA,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCC,aAAc,CACZ,uCAAwC,CACtCC,gBAAiBF,EAAMG,QAAQC,OAAOC,YAkF7BC,EA7EiB,SAAC,GAA2B,IAA1BC,EAAyB,EAAzBA,SAC1BC,GADmD,EAAfC,UAC1BX,KADyC,EAEjCY,mBAAS,GAFwB,mBAElDC,EAFkD,KAE5CC,EAF4C,KAGnDC,EAAcC,OAAOD,YAAc,KAAO,GAAK,GAHI,EAInBH,mBAASG,GAJU,mBAIlDE,EAJkD,KAIrCC,EAJqC,KASzD,GAFAC,qBAAU,kBAAML,EAAQ,KAAI,CAACL,KAExBA,EAAU,OAAO,6BAEtB,IAMMW,EAAc,SAACC,EAAGC,GACtB,OAAID,EAAEE,KAAOD,EAAEC,MACL,EACCF,EAAEE,KAAOD,EAAEC,KACb,EAEA,GAIX,OACE,mCACE,cAACC,EAAA,EAAD,CAAgBb,UAAWD,EAAQP,aAAcsB,UAAWC,IAA5D,SACE,eAACC,EAAA,EAAD,CAAOC,cAAY,EAAnB,UACE,cAACC,EAAA,EAAD,UACE,eAACC,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,oBACA,cAACA,EAAA,EAAD,iBACA,cAACA,EAAA,EAAD,mBACA,cAACA,EAAA,EAAD,2BACA,cAACA,EAAA,EAAD,oBACA,cAACA,EAAA,EAAD,0BAIJ,cAACC,EAAA,EAAD,WACKf,EAAc,EACVR,EACAwB,KAAKb,GACLc,MAAMrB,EAAOI,EAAaJ,EAAOI,EAAcA,GAC/CR,GACAwB,KAAKb,GACLe,KAAI,SAAAC,GAAO,OAChB,eAACN,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,UAAYK,EAAQC,eACpB,cAACN,EAAA,EAAD,UAAYK,EAAQE,KACpB,cAACP,EAAA,EAAD,UAAYK,EAAQb,OACpB,cAACQ,EAAA,EAAD,UAAYK,EAAQG,eACpB,cAACR,EAAA,EAAD,UAAYK,EAAQI,QACpB,cAACT,EAAA,EAAD,UAAYK,EAAQK,MAAMC,KAAK,UANlBN,EAAQE,SAU3B,cAACK,EAAA,EAAD,UACE,cAACb,EAAA,EAAD,UACE,cAACc,EAAA,EAAD,CACE/B,KAAMA,EACNgC,MAAOpC,EAASqC,OAChB7B,YAAaA,EACb8B,mBAAoB,CAAC,GAAI,GAAI,IAC7BC,aAxDW,SAACC,EAAOC,GAAR,OAAoBpC,EAAQoC,IAyDvCC,oBAxDkB,SAACF,GAC/B/B,EAAekC,SAASH,EAAMI,OAAOC,MAAO,KAC5CxC,EAAQ,kB,iBClBNd,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCqD,QAAS,CACPC,SAAU,SACVC,IAAKvD,EAAMwD,QAAQ,KAErBC,aAAc,CACZC,QAAS,OACTJ,SAAU,WACVK,eAAgB,SAChBC,WAAY,SACZL,IAAK,EACLM,OAAQ,EACRC,KAAM,EACNC,MAAO,OA6EIC,EAzEM,SAAC,GAA8E,IAA5EC,EAA2E,EAA3EA,cAAe1D,EAA4D,EAA5DA,SAAU2D,EAAkD,EAAlDA,oBAAqBC,EAA6B,EAA7BA,uBAA6B,EACjEC,cAAxBC,EADyF,EACzFA,SACFhC,EAF2F,4BAErEA,cAAgB6B,GAAuBD,EAAc,GAC3EK,GAAiE,IAA7CC,OAAOC,KAAKjE,GAAUkE,QAAQJ,GAClDK,GAAiE,IAAzCT,EAAcQ,QAAQpC,GAE9CsC,EAAUC,cACVpE,EAAUV,IAEV+E,EAAcC,mBAAQ,WAC1B,IAAIR,IAAqBI,EAAzB,CACA,IAAMK,EAAiCxE,EAAU8D,GAAWhC,GAC5D,OAAO,cAAC2C,EAAD,CAAazE,SAAUwE,OAC7B,CAAC1C,EAAcgC,EAAU9D,EAAU+D,EAAmBI,IAEnDO,EAAgB,SAAC5C,GACrB,IAAM0C,EAAiCxE,EAAU8D,GAAWhC,GAC5D,OAAO6C,MAAMC,QAAQJ,GACjBA,EAA+BnC,OAC/B,GAGN,OAAI0B,GAAqBI,EAErB,cAACU,EAAA,EAAD,CAAK3E,UAAWD,EAAQiD,aAAxB,SACE,eAAC4B,EAAA,EAAD,CAAYC,QAAQ,KAApB,UACE,cAAC,IAAD,CAAaC,SAAS,UAAUhD,MAAM,UADxC,sBAQJ,mCACE,cAACiD,EAAA,EAAD,CAAW/E,UAAWD,EAAQiF,KAAMC,UAAU,EAA9C,SACE,eAACC,EAAA,EAAD,CAAMC,WAAS,EAACpC,QAAS,EAAzB,UAEE,cAACqC,EAAA,EAAD,CAAQC,KAAM,CAAC,KAAM,MAArB,SACE,cAACH,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAGC,GAAI,GAAtB,SACE,cAACzE,EAAA,EAAD,CAAOf,UAAWD,EAAQ6C,QAA1B,SACE,cAAC6C,EAAA,EAAD,CACE3E,UAAU,KACV4E,UAAW,cAACC,EAAA,EAAD,CAAeC,eAAe,EAA9B,oBAFb,SAGGpC,EAAchC,KAAI,SAACqE,EAAkBC,GAAnB,OACf,cAACC,EAAA,EAAD,CACEjF,UAAU,KACVkF,QAAM,EAENC,QAASH,EAAQtC,EAAcrB,OAAS,EACxC+D,SAAUL,IAAqBjE,EAC/BuE,QAAS,WACPzC,EAAuBmC,GACvB3B,EAAQkC,KAAR,WAAiBxC,EAAjB,YAA6BiC,KARjC,SAUE,cAACQ,EAAA,EAAD,CAAcC,QAAO,UAAKT,EAAL,aAA0BrB,EAAcqB,GAAxC,QAPhBA,cAenB,cAACX,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAvB,SACGpB,Y,mJC/EP/E,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCgH,IAAK,CAAEC,UAAW,QAClBC,KAAM,CAAEC,YAAanH,EAAMwD,QAAQ,IACnC4D,KAAM,CAAEC,WAAYrH,EAAMwD,QAAQ,IAClC8D,aAAc,CAAEC,OAAQ,OACxBC,iBAAkB,CAAEC,MAAO,SAC3BC,mBAAoB,CAAED,MAAO,QAC7BE,MAAO,CACLC,WAAY,SACZC,WAAY,SACZC,WAAY,0CACZvC,SAAU,OACVhD,MAAOvC,EAAMG,QAAQ4H,OAAOC,OAE9BC,kBAAmB,CACjBvE,QAAS,OACTC,eAAgB,iBAElBuE,YAAa,CACXxE,QAAS,OACTyE,cAAe,MACfC,SAAU,EACVzE,eAAgB,YAElB0E,OAAQ,CACNC,YAAatI,EAAMwD,QAAQ,GAC3B+E,aAAcvI,EAAMwD,QAAQ,GAC5BtD,gBAAiBF,EAAMG,QAAQ4G,QAAQyB,MAEzCC,WAAY,CACVtB,YAAanH,EAAMwD,QAAQ,GAC3B,qBAAsB,CACpBoE,WAAY,eAoKHc,GA9JA,SAAC,GACgE,IAD9DC,EAC6D,EAD7DA,WAA2BzE,GACkC,EADjD0E,cACiD,EADlC1E,qBAAqB2E,EACa,EADbA,eAChD1E,EAA6D,EAA7DA,uBAAwB2E,EAAqC,EAArCA,gBAAiB7E,EAAoB,EAApBA,cAEnDU,EAAUC,cACVpE,EAAUV,KACViJ,EAAQC,YAAc,cAJiD,EAKrCtI,oBAAS,GAL4B,mBAKtEuI,EALsE,KAKxDC,EALwD,KAMvEC,EAAaJ,GAASA,EAAMK,OAAO/E,SAAWsE,EAAWlE,QAAQsE,EAAMK,OAAO/E,UAAY,EAC1FgF,EAA2BnF,GAAuBD,EAAcQ,QAAQP,IAAwB,EAChGoF,EAAuB,IAAIC,KAAKV,GAAgBW,qBAEhDC,EAAe,SAAAC,GAAI,OAAI,SAAA3G,IACR,YAAfA,EAAM4G,MAAqC,QAAd5G,EAAM6G,KAA+B,UAAd7G,EAAM6G,MAI9DV,EAAgBQ,KAGlB,OACE,qCACE,eAACG,EAAA,EAAD,CACEC,OAAQ,OACRJ,KAAMT,EACNc,OAAQN,GAAa,GACrBO,QAASP,GAAa,GAJxB,UAME,cAACvD,EAAA,EAAD,CACE3E,UAAU,KACVd,UAAWD,EAAQgH,iBACnBrB,UAAW,cAACC,EAAA,EAAD,CAAeC,eAAe,EAA9B,wBAHb,SAIGsC,EAAW1G,KAAI,SAACoC,EAAUkC,GAAX,OACZ,cAACC,EAAA,EAAD,CACEC,QAAM,EACNlF,UAAU,KAEVmF,QAASH,EAAQoC,EAAW/F,OAAS,EACrC+D,SAAUwC,GAAc,GAAIR,EAAWQ,KAAgB9E,EACvDuC,QAAS,WACP,IAAMqD,EAAOZ,EAAwB,WAC7BhF,EAD6B,YACjBH,GADiB,WAE7BG,GACRM,EAAQkC,KAAKoD,IAVjB,SAWE,cAACnD,EAAA,EAAD,CAAcC,QAAS1C,KARlBA,QAab,cAAC+B,EAAA,EAAD,4BACA,cAAChB,EAAA,EAAD,CAAK8E,GAAI,EAAT,SACE,cAACC,EAAA,EAAD,CACE1J,UAAWD,EAAQkH,mBACnBtE,MAAOiG,EAA2BnF,EAAsBD,EAAc,GACtEmG,SAAU,SAAArH,GACR,IAAMsH,EAAuBtH,EAAMI,OAAOC,MAC1Ce,EAAuBkG,GACvB,IAAMJ,EAAI,WAAOtB,EAAWQ,GAAlB,YAAiCkB,GAC3C1F,EAAQkC,KAAKoD,IAPjB,SAQGhG,EAAchC,KAAI,SAAAI,GAAY,OAC7B,cAACiI,EAAA,EAAD,CAEElH,MAAOf,EAFT,SAGGA,GAFIA,UAQb,eAAC+C,EAAA,EAAD,CAAK3E,UAAWD,EAAQyH,kBAAmBsC,GAAI,EAAGL,GAAI,EAAtD,UACE,cAAC9E,EAAA,EAAD,UACE,cAACoF,EAAA,EAAD,CAAS7C,MAAM,cAAc8C,aAAW,cAAxC,SACE,eAACC,EAAA,EAAD,CACEnI,MAAM,YACN+C,QAAQ,YACRmF,aAAW,cACXE,WAAS,EAJX,UAKE,cAAC,KAAD,CAAWlK,UAAWD,EAAQ0G,OAAS4B,SAI7C,cAAC1D,EAAA,EAAD,UACE,cAACoF,EAAA,EAAD,CAAS7C,MAAM,cAAc8C,aAAW,cAAxC,SACE,eAACC,EAAA,EAAD,CAAQpF,QAAQ,YAAYmF,aAAW,cAAcE,WAAS,EAA9D,UACE,cAAC,IAAD,CAAYlK,UAAWD,EAAQ0G,OAASoC,eAQlD,cAACsB,EAAA,EAAD,CAAQnK,UAAWD,EAAQ6H,OAAQ9F,MAAM,UAAUe,SAAS,SAA5D,SACE,eAACuH,EAAA,EAAD,CAASC,gBAAgB,EAAzB,UAEE,cAAC1F,EAAA,EAAD,CAAK1B,QAAS,CAAEsC,GAAI,OAAQ+E,GAAI,OAAQC,GAAI,QAA5C,SACE,cAACC,EAAA,EAAD,CACExK,UAAWD,EAAQ0K,WACnB3I,MAAM,UACN4I,eAAe,EACfvE,QAAS6C,GAAa,GAJxB,SAKE,cAAC,KAAD,QAIJ,cAACiB,EAAA,EAAD,CACEjK,UAAWD,EAAQmH,MACnBf,QAAS,kBAAMjC,EAAQkC,KAAK,MAF9B,SAGE,cAACxB,EAAA,EAAD,CAAY5E,UAAWD,EAAQmH,MAAOrC,QAAQ,KAA9C,uBAGF,cAACF,EAAA,EAAD,CACE3E,UAAWD,EAAQ4G,KACnB1D,QAAS,CAAEuC,GAAI,OAAQmF,GAAI,OAAQpF,GAAI,QAAS+E,GAAI,QAASC,GAAI,SAFnE,SAGE,cAACK,EAAA,EAAD,CACEZ,aAAW,gBACXjK,QAAS,CAAE8K,UAAW9K,EAAQ8G,cAC9BlE,MAAO+F,GAAc,GAAIA,EACzBiB,SAAU,SAACrH,EAAOwI,GAChB,IAAMtB,EAAOZ,EAAwB,WAC7BV,EAAW4C,GADkB,YACLrH,GADK,WAE7ByE,EAAW4C,IACnB5G,EAAQkC,KAAKoD,IARjB,SAUGtB,EAAW1G,KAAI,SAAAoC,GAAQ,OACtB,cAACmH,EAAA,EAAD,CAAoB/K,UAAWD,EAAQwG,IAAKyE,MAAOpH,GAAzCA,UAKhB,eAACe,EAAA,EAAD,CAAK3E,UAAWD,EAAQ0H,YAAxB,UACE,cAAC9C,EAAA,EAAD,CACE3E,UAAWD,EAAQiI,WACnB/E,QAAS,CAAEuC,GAAI,OAAQmF,GAAI,OAAQpF,GAAI,OAAQ+E,GAAI,OAAQC,GAAI,QAFjE,SAGE,cAACR,EAAA,EAAD,CAAS7C,MAAM,cAAc8C,aAAW,cAAxC,SACA,eAACC,EAAA,EAAD,CAAQnI,MAAM,YAAY+C,QAAQ,YAAYmF,aAAW,cAAzD,UACE,cAAC,KAAD,CAAWhK,UAAWD,EAAQ0G,OAAS4B,SAK3C,cAAC1D,EAAA,EAAD,CACE3E,UAAWD,EAAQiI,WACnB/E,QAAS,CAAEuC,GAAI,OAAQmF,GAAI,OAAQpF,GAAI,OAAQ+E,GAAI,OAAQC,GAAI,QAFjE,SAGE,cAACR,EAAA,EAAD,CAAS7C,MAAM,cAAc8C,aAAW,cAAxC,SACA,eAACC,EAAA,EAAD,CAAQpF,QAAQ,YAAYmF,aAAW,cAAciB,GAAI,EAAzD,UACE,cAAC,IAAD,CAAYjL,UAAWD,EAAQ0G,OAASoC,qBC1LlDqC,GAAUC,mIAAYC,qBAAuB,OAE7CC,GAAuB,IAEvBC,GAAa,CAAC,SAAU,YAAa,WAErCjM,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCgM,SAAU,CACR9L,gBAAiBF,EAAMG,QAAQ4H,OAAOC,MACtCzF,MAAOvC,EAAMG,QAAQ4G,QAAQyB,MAE/ByD,aAAc,CACZvI,QAAS,OACTyE,cAAe,MACfvE,WAAY,SACZD,eAAgB,qBAiILuI,OA7Hf,WAAgB,IAAD,EACuBxL,mBAAS,IADhC,mBACNyL,EADM,KACMC,EADN,OAEuB1L,qBAFvB,mBAENyI,EAFM,KAEMP,EAFN,OAGyClI,oBAAS,GAHlD,mBAGNwD,EAHM,KAGeC,EAHf,OAI6BzD,mBAAS,IAJtC,mBAINuD,EAJM,KAISoI,EAJT,OAKmB3L,oBAAS,GAL5B,mBAKN4L,EALM,KAKKC,EALL,OAM+B7L,mBAAS,IANxC,mBAMN8L,EANM,KAMUC,EANV,OAOuB/L,qBAPvB,mBAONgM,EAPM,KAOMC,EAPN,OAQiCjM,mBAxBjBoL,KAgBhB,mBAQNhD,EARM,KAQW8D,EARX,KASPC,EAAUC,iBAAO,CAAEC,UAAW,KAAMC,KAAM,OAE1CxM,EAAUV,KAEVmN,EAAc,uCAAG,WAAMC,GAAN,eAAA/L,EAAA,sDACZgM,EAAID,EADQ,YACCC,EAAI,GADL,uBAEnBR,EAAcQ,GAFK,SAGb,IAAIC,SAAQ,SAAAC,GAAO,OAAIC,WAAWD,EAAS,QAH9B,OACQF,IADR,0DAAH,sDAedI,EAAS,uCAAG,gCAAApM,EAAA,sDACZqM,GAAS,EADG,WAETA,EAFS,iCAIZf,GAAkB,GAJN,SAKMgB,MAAM9B,IALZ,UAMO,OADb+B,EALM,QAMJC,OANI,wBAOVpB,GAAW,GACXE,EAAkB,wBARR,UASJQ,EAvDc,IA8CV,iDAWSS,EAAIE,OAXb,QAWJC,EAXI,OAYVzB,EAAcyB,GACdtB,GAAW,GACXiB,GAAS,EAdC,iEAiBZM,QAAQC,IAAR,MACAxB,GAAW,GACXE,EAAkB,2BAnBN,UAoBNQ,EAlEgB,IA8CV,iFAAH,qDAyBTe,EAAqB,uCAAG,sBAAA7M,EAAA,6DAC5B8M,cAAcpB,EAAQqB,QAAQnB,WAC9BoB,aAAatB,EAAQqB,QAAQlB,MAFD,SAGtBO,IAHsB,OAhC5BX,EArC2Bd,KAsC3Be,EAAQqB,QAAQnB,UAAYqB,aAAY,WACtCxB,GAAmB,SAAAyB,GAAS,OAAIA,EAAY,OAC1C,KAkCJxB,EAAQqB,QAAQlB,KAAOM,WAAWU,EAAuBlC,IAL7B,2CAAH,qDAwB3B,OAfA7K,qBAAU,WACR+M,MACC,IAEH/M,qBAAU,WACR,GAAKsD,OAAOC,KAAK2H,GAAYvJ,OAA7B,CAMAyJ,EAHS9H,OAAOC,KAAK2H,EAAYJ,GAAW,MAI5CQ,GAAW,MACV,CAACJ,IAEAG,EAEA,cAACgC,EAAA,EAAD,CACE/L,MAAM,UACN9B,UAAWD,EAAQwL,SACnBtC,KAAM4C,EAHR,SAIE,eAAClH,EAAA,EAAD,CAAK3E,UAAWD,EAAQyL,aAAxB,UACE,cAACsC,EAAA,EAAD,CAAkBhM,MAAM,YACxB,cAAC6C,EAAA,EAAD,CAAKoJ,EAAG,EAAR,SACE,cAACnJ,EAAA,EAAD,CAAY9D,UAAU,MAAtB,SACIiL,EAAc,UACTA,EADS,yBACsBE,GAClC,sBASd,eAAC,IAAD,WACE,cAAC,GAAD,CACE/D,WAAYoD,GACZ5C,WAAYA,EACZlF,cAAeA,EACfC,oBAAqBA,EACrBC,uBAAwBA,EACxB2E,gBAAiBA,EACjBD,eAAgBsD,EAAWsC,KAC3B7F,cAAeA,IACjB,eAAC,IAAD,WACE,cAAC,IAAD,CAAO8F,OAAK,EAACzE,KAAM,CAAC,aAAc,4BAA6B0E,OAAQ,kBACrE,cAAC,EAAD,CACE1K,cAAeA,EACfC,oBAAqBA,EACrBC,uBAAwBA,EACxB5D,SAAU4L,OAEd,cAAC,IAAD,CAAOlC,KAAK,IAAZ,SACE,cAAC,IAAD,CAAU2E,GAAE,WAAM7C,GAAW,e,OC1IvC8C,IAASF,OACP,cAAC,IAAMG,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.3da5b68f.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Paper, TableContainer, Table, TableHead, TableBody,\n         TableRow, TableCell, TablePagination, TableFooter } from '@material-ui/core';\n\n\nconst useStyles = makeStyles(theme => ({\n  productTable: {\n    '& .MuiTableRow-root:nth-of-type(odd)': {\n      backgroundColor: theme.palette.action.hover\n    }\n  }\n}));\n\nconst ManufacturerProductList = ({products, className}) => {\n  const classes = useStyles();\n  const [page, setPage] = useState(0);\n  const innerHeight = window.innerHeight < 1024 ? 10 : 15;\n  const [rowsPerPage, setRowsPerPage] = useState(innerHeight);\n\n\n  useEffect(() => setPage(0), [products]);\n\n  if (!products) return <></>;\n\n  const handleChangePage = (event, newPage) => setPage(newPage);\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  const orderByName = (a, b) => {\n    if (a.name < b.name) {\n      return -1;\n    } else if (a.name > b.name) {\n      return 1;\n    } else {\n      return 0;\n    }\n  };\n\n  return (\n    <>\n      <TableContainer className={classes.productTable} component={Paper}>\n        <Table stickyHeader>\n          <TableHead>\n            <TableRow>\n              <TableCell>Stock</TableCell>\n              <TableCell>Id</TableCell>\n              <TableCell>Name</TableCell>\n              <TableCell>Manufacturer</TableCell>\n              <TableCell>Price</TableCell>\n              <TableCell>Colors</TableCell>\n            </TableRow>\n          </TableHead>\n\n          <TableBody>\n            { (rowsPerPage > 0\n                 ? products\n                  .sort(orderByName)\n                  .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                 : products)\n                  .sort(orderByName)\n                  .map(product => (\n              <TableRow key={product.id}>\n                <TableCell>{product.availability}</TableCell>\n                <TableCell>{product.id}</TableCell>\n                <TableCell>{product.name}</TableCell>\n                <TableCell>{product.manufacturer}</TableCell>\n                <TableCell>{product.price}</TableCell>\n                <TableCell>{product.color.join(', ')}</TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n          <TableFooter>\n            <TableRow>\n              <TablePagination\n                page={page}\n                count={products.length}\n                rowsPerPage={rowsPerPage}\n                rowsPerPageOptions={[10, 15, 50]}\n                onChangePage={handleChangePage}\n                onChangeRowsPerPage={handleChangeRowsPerPage} />\n              </TableRow>\n          </TableFooter>\n        </Table>\n      </TableContainer>\n    </>\n  );\n}\n\nexport default ManufacturerProductList;\n","import React, { useCallback, useMemo } from 'react';\nimport { Container, Grid, Typography, Paper, List, Box, Hidden,\n         ListSubheader, ListItem, ListItemText } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles'; \nimport { useParams } from 'react-router-dom';\nimport ProductList from '../components/ProductList';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport { useHistory } from 'react-router-dom';\n\n\nconst useStyles = makeStyles(theme => ({\n  sideBar: {\n    position: 'sticky',\n    top: theme.spacing(13),\n  },\n  pageNotFound: {\n    display: 'flex',\n    position: 'absolute',\n    justifyContent: 'center',\n    alignItems: 'center',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n  }\n}));\n\nconst CategoryView = ({ manufacturers, products, currentManufacturer, setCurrentManufacturer }) => {\n  const { category, ...params } = useParams();\n  const manufacturer = params.manufacturer || currentManufacturer || manufacturers[0];\n  const categoryIsInvalid = Object.keys(products).indexOf(category) === -1;\n  const manufacturerIsInvalid = manufacturers.indexOf(manufacturer) === -1;\n\n  const history = useHistory();\n  const classes = useStyles();\n\n  const productList = useMemo(() => {\n    if (categoryIsInvalid || manufacturerIsInvalid) return; \n    const categoryProductsByManufacturer = products.[category].[manufacturer]\n    return <ProductList products={categoryProductsByManufacturer} />\n  }, [manufacturer, category, products, categoryIsInvalid, manufacturerIsInvalid]);\n\n  const countProducts = (manufacturer) => {\n    const categoryProductsByManufacturer = products.[category].[manufacturer];\n    return Array.isArray(categoryProductsByManufacturer)\n      ? categoryProductsByManufacturer.length\n      : 0;\n  };\n\n  if (categoryIsInvalid || manufacturerIsInvalid) {\n    return (\n      <Box className={classes.pageNotFound}>\n        <Typography variant=\"h2\">\n          <WarningIcon fontSize=\"inherit\" color=\"error\" />Page Not Found\n        </Typography>\n      </Box>\n    );\n  }\n\n  return (\n    <>\n      <Container className={classes.root} maxWidth={false}>\n        <Grid container spacing={5}> \n\n          <Hidden only={['xs', 'sm']}>\n            <Grid item md={2} xs={12}>\n              <Paper className={classes.sideBar}>\n                <List\n                  component=\"ul\"\n                  subheader={<ListSubheader disableSticky={true}>Brands</ListSubheader>}>\n                  {manufacturers.map((manufacturerItem, index) => (\n                      <ListItem\n                        component='li'\n                        button\n                        key={manufacturerItem}\n                        divider={index < manufacturers.length - 1 ? true : false}\n                        selected={manufacturerItem === manufacturer}\n                        onClick={() => {\n                          setCurrentManufacturer(manufacturerItem);\n                          history.push(`/${category}/${manufacturerItem}`);\n                        }}>\n                        <ListItemText primary={`${manufacturerItem} (${countProducts(manufacturerItem)})`} />\n                      </ListItem>\n                  ))}\n                </List>\n              </Paper>\n            </Grid>\n          </Hidden>\n\n          <Grid item md={10} xs={12}>\n            {productList}\n          </Grid>\n\n        </Grid>\n      </Container>\n    </>\n  );\n};\n\n\nexport default CategoryView;\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { AppBar, Tabs, Tab, Tooltip, Toolbar, Typography, Select,\n         Button, Box, SwipeableDrawer, List, ListItem, MenuItem,\n         ListSubheader, ListItemText, IconButton } from '@material-ui/core';\nimport UpdateIcon from '@material-ui/icons/Update';\nimport TimerIcon from '@material-ui/icons/Timer';\nimport MenuIcon from '@material-ui/icons/Menu';\n\n\nconst useStyles = makeStyles(theme => ({\n  tab: { minHeight: '64px', },\n  icon: { marginRight: theme.spacing(1) },\n  menu: { marginLeft: theme.spacing(7) },\n  tabIndicator: { height: '3px' },\n  drawerCategories: { width: '250px' },\n  selectManufacturer: { width: '100%' },\n  title: {\n    whiteSpace: 'nowrap',\n    fontFamily: 'Bungee',\n    textShadow: '-1px -1px 1px black, 1px 1px 1px silver',\n    fontSize: '24pt',\n    color: theme.palette.common.white\n  },\n  drawerInfoWrapper: {\n    display: 'flex',\n    justifyContent: 'space-between'\n  },\n  infoWrapper: {\n    display: 'flex',\n    flexDirection: 'row',\n    flexGrow: 1,\n    justifyContent: 'flex-end'\n  },\n  appBar: {\n    paddingLeft: theme.spacing(2),\n    marginBottom: theme.spacing(5),\n    backgroundColor: theme.palette.primary.main\n  },\n  updateInfo: { \n    marginRight: theme.spacing(2),\n    '& .MuiButton-label': {\n      whiteSpace: 'nowrap',\n    }\n  }\n}));\n\n\nconst Header = ({ categories, setCurrentTab, currentManufacturer, lastUpdateTime,\n                  setCurrentManufacturer, nextUpdateTimer, manufacturers }) => {\n\n  const history = useHistory();\n  const classes = useStyles();\n  const match = useRouteMatch('/:category');\n  const [isDrawerOpen, setIsDrawerOpen] = useState(false);\n  const currentTab = match && match.params.category ? categories.indexOf(match.params.category) : 0;\n  const validCurrentManufacturer = currentManufacturer && manufacturers.indexOf(currentManufacturer) >= 0\n  const lastUpdateTimeString = new Date(lastUpdateTime).toLocaleTimeString();\n\n  const toggleDrawer = open => event => {\n    if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\n      return;\n    }\n\n    setIsDrawerOpen(open);\n  };\n\n  return (\n    <>\n      <SwipeableDrawer\n        anchor={'left'}\n        open={isDrawerOpen}\n        onOpen={toggleDrawer(true)}\n        onClose={toggleDrawer(false)}>\n\n        <List\n          component=\"ul\"\n          className={classes.drawerCategories}\n          subheader={<ListSubheader disableSticky={true}>Categories</ListSubheader>}>\n          {categories.map((category, index) => (\n              <ListItem\n                button\n                component=\"li\"\n                key={category}\n                divider={index < categories.length - 1 ? true : false}\n                selected={currentTab >= 0 ? categories[currentTab] === category : false}\n                onClick={() => {\n                  const path = validCurrentManufacturer\n                    ? `/${category}/${currentManufacturer}`\n                    : `/${category}`;\n                  history.push(path)}}>\n                <ListItemText primary={category} />\n              </ListItem>\n          ))}\n        </List>\n        \n        <ListSubheader>Manufacturers</ListSubheader>\n        <Box mx={2}>\n          <Select\n            className={classes.selectManufacturer}\n            value={validCurrentManufacturer ? currentManufacturer : manufacturers[0]}\n            onChange={event => {\n              const selectedManufacturer = event.target.value;\n              setCurrentManufacturer(selectedManufacturer);\n              const path = `/${categories[currentTab]}/${selectedManufacturer}`\n              history.push(path)}}>\n            {manufacturers.map(manufacturer => (\n              <MenuItem \n                key={manufacturer}\n                value={manufacturer}>\n                {manufacturer}\n              </MenuItem>\n            ))}\n          </Select>\n        </Box>\n\n        <Box className={classes.drawerInfoWrapper} my={5} mx={1}>\n          <Box>\n            <Tooltip title=\"Next update\" aria-label=\"next update\">\n              <Button\n                color=\"secondary\"\n                variant=\"contained\"\n                aria-label=\"Last Update\"\n                fullWidth>\n                <TimerIcon className={classes.icon} />{nextUpdateTimer}\n              </Button>\n            </Tooltip>\n          </Box>\n          <Box>\n            <Tooltip title=\"Last update\" aria-label=\"last update\">\n              <Button variant=\"contained\" aria-label=\"Last Update\" fullWidth>\n                <UpdateIcon className={classes.icon} />{lastUpdateTimeString}\n              </Button>\n            </Tooltip>\n          </Box>\n        </Box>\n\n      </SwipeableDrawer>\n\n      <AppBar className={classes.appBar} color=\"primary\" position=\"sticky\">\n        <Toolbar disableGutters={true}>\n\n          <Box display={{ md: 'none', lg: 'none', xl: 'none' }}>\n            <IconButton \n              className={classes.menuButton}\n              color=\"inherit\"\n              disableRipple={true}\n              onClick={toggleDrawer(true)}>\n              <MenuIcon />\n            </IconButton>\n          </Box>\n\n          <Button\n            className={classes.title}\n            onClick={() => history.push('/')}>\n            <Typography className={classes.title} variant=\"h5\">BAD API</Typography>\n          </Button>\n\n          <Box\n            className={classes.menu}\n            display={{ xs: 'none', sm: 'none', md: 'block', lg: 'block', xl: 'block' }}>\n            <Tabs\n              aria-label=\"category tabs\"\n              classes={{ indicator: classes.tabIndicator }}\n              value={currentTab >= 0 ? currentTab : false}\n              onChange={(event, newValue) => {\n                const path = validCurrentManufacturer\n                  ? `/${categories[newValue]}/${currentManufacturer}`\n                  : `/${categories[newValue]}`;\n                history.push(path);\n              }}>\n              {categories.map(category => ( \n                <Tab key={category} className={classes.tab} label={category} />\n              ))}\n            </Tabs>\n          </Box>\n\n          <Box className={classes.infoWrapper}>\n            <Box\n              className={classes.updateInfo}\n              display={{ xs: 'none', sm: 'none', md: 'flex', lg: 'flex', xl: 'flex' }}>\n              <Tooltip title=\"Next update\" aria-label=\"next update\">\n              <Button color=\"secondary\" variant=\"contained\" aria-label=\"Last Update\">\n                <TimerIcon className={classes.icon} />{nextUpdateTimer}\n              </Button>\n              </Tooltip>\n            </Box>\n\n            <Box\n              className={classes.updateInfo}\n              display={{ xs: 'none', sm: 'none', md: 'flex', lg: 'flex', xl: 'flex' }}>\n              <Tooltip title=\"Last update\" aria-label=\"last update\">\n              <Button variant=\"contained\" aria-label=\"Last Update\" mr={2}>\n                <UpdateIcon className={classes.icon} />{lastUpdateTimeString}\n              </Button>\n              </Tooltip>\n            </Box>\n          </Box>\n\n        </Toolbar>\n      </AppBar>\n    </>\n  );\n};\n\n\nexport default Header;\n","import { useState, useEffect, useRef } from 'react';\nimport { Switch, BrowserRouter as Router, Route, Redirect } from 'react-router-dom';\nimport { Backdrop, CircularProgress, Typography, Box } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CategoryView from './views/CategoryView';\nimport Header from './components/Header';\n\n\nconst API_URL = process.env.REACT_APP_LOCAL_API || '/api';\nconst RETRY_TIME_IN_SECONDS = 15;\nconst NEXT_UPDATE_INTERVAL = 1000*60*5;\nconst NEXT_UPDATE_IN_SECONDS = NEXT_UPDATE_INTERVAL / 1000;\nconst CATEGORIES = ['gloves', 'facemasks', 'beanies'];\n\nconst useStyles = makeStyles(theme => ({\n  backdrop: {\n    backgroundColor: theme.palette.common.white,\n    color: theme.palette.primary.main,\n  },\n  loginMessage: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between'\n  }\n}));\n\nfunction App() {\n  const [collection, setCollection] = useState({});\n  const [currentTab, setCurrentTab] = useState();\n  const [currentManufacturer, setCurrentManufacturer] = useState(false);\n  const [manufacturers, setManufacturers] = useState([]);\n  const [isLoading, setLoading] = useState(true);\n  const [loadingMessage, setLoadingMessage] = useState('');\n  const [retryTimer, setRetryTimer] = useState();\n  const [nextUpdateTimer, setNextUpdateTimer] = useState(NEXT_UPDATE_IN_SECONDS);\n  const timerId = useRef({ countdown: null, next: null });\n\n  const classes = useStyles();\n\n  const retryCountdown = async seconds => {\n    for (let i = seconds; i > 0; i--) {\n      setRetryTimer(i);\n      await new Promise(resolve => setTimeout(resolve, 1000));\n    }\n  };\n\n  const updateNextUpdateTimer = () => {\n    setNextUpdateTimer(NEXT_UPDATE_IN_SECONDS);\n    timerId.current.countdown = setInterval(() => {\n      setNextUpdateTimer(prevState => prevState - 1);\n    } , 1000);\n\n  }\n\n  const fetchData = async () => {\n    let repeat = true;\n    while (repeat) {\n      try {\n        setLoadingMessage(false);\n        const res = await fetch(API_URL);\n        if (res.status === 503) {\n          setLoading(true);\n          setLoadingMessage('Service unavailable.');\n          await retryCountdown(RETRY_TIME_IN_SECONDS);\n        } else {\n          const data = await res.json();\n          setCollection(data);\n          setLoading(false);\n          repeat = false;\n        }\n      } catch (err) {\n        console.log(err);\n        setLoading(true)\n        setLoadingMessage('Failed fetching data...');\n        await retryCountdown(RETRY_TIME_IN_SECONDS);\n      }\n    }\n  };\n\n  const fetchDataPeriodically = async () => {\n    clearInterval(timerId.current.countdown);\n    clearTimeout(timerId.current.next);\n    await fetchData();\n    updateNextUpdateTimer()\n    timerId.current.next = setTimeout(fetchDataPeriodically, NEXT_UPDATE_INTERVAL);\n  };\n\n\n  useEffect(() => {\n    fetchDataPeriodically();\n  }, []);\n\n  useEffect(() => {\n    if (!Object.keys(collection).length) return;\n\n    const extractManufacturers = () => {\n      return Object.keys(collection.[CATEGORIES[0]]);\n    };\n\n    setManufacturers(extractManufacturers()); \n    setLoading(false);\n  }, [collection]);\n\n  if (isLoading) {\n    return (\n      <Backdrop\n        color=\"primary\"\n        className={classes.backdrop}\n        open={isLoading}>\n        <Box className={classes.loginMessage}>\n          <CircularProgress color=\"inherit\" />\n          <Box m={2}>\n            <Typography component=\"div\">\n              { loadingMessage\n                ? `${loadingMessage}. Retrying in ${retryTimer}`\n                : 'Loading...' }\n            </Typography>\n          </Box>\n        </Box>\n      </Backdrop>\n    );\n  }\n\n  return (\n    <Router>\n      <Header\n        categories={CATEGORIES}\n        currentTab={currentTab}\n        manufacturers={manufacturers}\n        currentManufacturer={currentManufacturer}\n        setCurrentManufacturer={setCurrentManufacturer}\n        nextUpdateTimer={nextUpdateTimer}\n        lastUpdateTime={collection.time}\n        setCurrentTab={setCurrentTab} />\n      <Switch>\n        <Route exact path={['/:category', '/:category/:manufacturer']} render={() => (\n          <CategoryView\n            manufacturers={manufacturers}\n            currentManufacturer={currentManufacturer}\n            setCurrentManufacturer={setCurrentManufacturer}\n            products={collection} />\n        )} />\n        <Route path='/'>\n          <Redirect to={`/${CATEGORIES[0]}`} />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './App.css';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}